// app/learn/_examQuestions.ts

export type ExamMode = "pre" | "post";

export type ExamTopic =
  | "収支管理"
  | "借入・クレジット"
  | "物価・インフレ"
  | "貯蓄・投資"
  | "リスク・保険"
  | "トラブル・詐欺"
  | "税・社会保障・信用"
  | "お金の使い方";

type ExamSide = {
  question: string;
  choices: string[];
  answerIndex: number;
};

export type ExamItem = {
  id: string; // "Q1" など
  conceptKey: string; // "budget_balance" など
  topic: ExamTopic;
  pre: ExamSide;
  post: ExamSide;
};

export type FlatExamQuestion = {
  id: string;
  conceptKey: string;
  topic: ExamTopic;
  question: string;
  choices: string[];
  answerIndex: number;
};

export const EXAM_ITEMS: ExamItem[] = [
  // Q1 収支①
  {
    id: "Q1",
    conceptKey: "budget_balance",
    topic: "収支管理",
    pre: {
      question:
        "Aさんの今月の収入は 8万円、支出は 9万5千円でした。このとき、今月の収支はどうなっていますか？",
      choices: [
        "1万5千円の黒字",
        "1万5千円の赤字",
        "5000円の黒字",
        "5000円の赤字",
      ],
      answerIndex: 1,
    },
    post: {
      question:
        "Bさんの今月の収入は 12万円、支出は 9万円でした。このときの収支として正しいのはどれですか？",
      choices: [
        "3万円の黒字",
        "3万円の赤字",
        "2万円の黒字",
        "2万円の赤字",
      ],
      answerIndex: 0,
    },
  },

  // Q2 収支② 固定費・変動費
  {
    id: "Q2",
    conceptKey: "fixed_vs_variable",
    topic: "収支管理",
    pre: {
      question:
        "次のうち、「毎月ほぼ同じ金額がかかる固定費」として考えやすい支出はどれですか？",
      choices: [
        "コンビニのお菓子代",
        "その月だけ購入した服",
        "毎月のスマホ料金の基本料金",
        "友人との飲み会代",
      ],
      answerIndex: 2,
    },
    post: {
      question:
        "家計を見直すとき、まず契約内容や金額を確認しやすい「固定費」に当てはまるものはどれですか？",
      choices: [
        "その時々で変わる外食代",
        "定額制の動画配信サービスの月額料金",
        "たまに行く旅行代",
        "コンビニのコーヒー代",
      ],
      answerIndex: 1,
    },
  },

  // Q3 収支③ 先取り貯蓄
  {
    id: "Q3",
    conceptKey: "pay_yourself_first",
    topic: "収支管理",
    pre: {
      question:
        "将来に向けて貯金を増やしたいと考えています。次のうち、貯金を続けやすくする方法として最も適切なのはどれですか？",
      choices: [
        "月末に余った分だけを貯金する",
        "給料日ごとに、あらかじめ決めた額を先に貯金に回す",
        "ボーナスが出たときだけ貯金する",
        "貯金はせず、必要になったら借りる",
      ],
      answerIndex: 1,
    },
    post: {
      question:
        "「なかなか貯金が続かない」という人に対して、改善策として最も勧めやすい方法はどれですか？",
      choices: [
        "クレジットカードの限度額を上げる",
        "欲しいものを先に買ってから、残った分を貯金する",
        "給料が入ったら、まず貯金分を別口座に移してから使う",
        "すべて現金で管理し、計画は立てない",
      ],
      answerIndex: 2,
    },
  },

  // Q4 収支④ 支出見直し
  {
    id: "Q4",
    conceptKey: "review_expenses",
    topic: "収支管理",
    pre: {
      question:
        "家計を改善するために支出を見直すとき、最初の一歩として特に効果が出やすいと考えられるのはどれですか？",
      choices: [
        "たまに買うお菓子をすべてやめる",
        "使っていないサブスクリプション（定額サービス）を解約・見直しする",
        "友人との食事を完全になくす",
        "とりあえず何も記録せず感覚で節約する",
      ],
      answerIndex: 1,
    },
    post: {
      question:
        "次のうち、家計を見直すときに「固定費の見直し」と言える行動はどれですか？",
      choices: [
        "その日の気分で外食を減らす",
        "たまに行くカフェをやめる",
        "毎月自動更新されている有料アプリの契約内容を確認し、不要なものを解約する",
        "特売のお菓子をまとめ買いする",
      ],
      answerIndex: 2,
    },
  },

  // Q5 借入① 金利と期間
  {
    id: "Q5",
    conceptKey: "interest_and_term",
    topic: "借入・クレジット",
    pre: {
      question:
        "同じ 10万円を借りる場合、一般的に「いちばん総支払額が少なくなりやすい」条件はどれですか？",
      choices: [
        "年利 5%・5年返済",
        "年利 5%・1年返済",
        "年利 10%・3年返済",
        "年利 10%・1年返済",
      ],
      answerIndex: 1,
    },
    post: {
      question:
        "お金を借りるときに総支払額をできるだけ少なくしたい場合、最も優先して考えるべきなのはどれですか？",
      choices: [
        "月々の返済額が小さいかどうかだけを見る",
        "金利が低く、無理のない範囲で返済期間を短めにする",
        "金利が高くても返済開始を遅らせる",
        "契約内容をあまり読まず、手続きが簡単なものにする",
      ],
      answerIndex: 1,
    },
  },

  // Q6 借入② クレカ最低返済
  {
    id: "Q6",
    conceptKey: "creditcard_minimum_payment",
    topic: "借入・クレジット",
    pre: {
      question:
        "クレジットカードで10万円を使い、「毎月の最低返済額だけ」を支払い続けた場合、一般的にはどうなりやすいですか？",
      choices: [
        "すぐに残高が0になり、利息もかからない",
        "返済期間が長くなり、支払う利息が増えやすい",
        "使った金額が自動的に割引される",
        "クレジットカード会社からのポイントが必ず増える",
      ],
      answerIndex: 1,
    },
    post: {
      question:
        "「今月も最低返済額だけ払えばいいや」という状況が長く続くと、どのようなリスクがありますか？",
      choices: [
        "利息が増え、元本がなかなか減らない",
        "元本だけが先に減り、利息はかからない",
        "残高が自動的にボーナスでゼロになる",
        "年会費が必ず無料になる",
      ],
      answerIndex: 0,
    },
  },

  // Q7 借入③ 借入額の決め方
  {
    id: "Q7",
    conceptKey: "affordable_debt",
    topic: "借入・クレジット",
    pre: {
      question:
        "将来の返済負担を減らすために、奨学金や教育ローンを利用するときにまず考えるべきこととして最も適切なのはどれですか？",
      choices: [
        "提供している会社のCMの印象",
        "とにかく今必要だと思う金額を上限まで借りること",
        "将来の手取り収入や生活費をイメージし、無理なく返済できる額を見積もること",
        "利息が高いものから優先的に選ぶこと",
      ],
      answerIndex: 2,
    },
    post: {
      question:
        "奨学金の借入額を決めるときの考え方として、最も適切なのはどれですか？",
      choices: [
        "返済期間をできるだけ長くして、総支払額は気にしない",
        "学費以外の遊びや旅行費もすべて借入でまかなう",
        "予想される手取り収入や家賃などを考え、生活を圧迫しない範囲に抑える",
        "とりあえず目一杯借りて、返済はそのときに考える",
      ],
      answerIndex: 2,
    },
  },

  // Q8 借入④ 高金利優先返済
  {
    id: "Q8",
    conceptKey: "pay_high_interest_first",
    topic: "借入・クレジット",
    pre: {
      question:
        "いくつかの借金を同時に抱えているとき、返済計画として一般的に優先度を上げた方がよいのはどれですか？",
      choices: [
        "金利の低い借入から先に返す",
        "金利の高い借入から先に返す",
        "どれも同じペースで返す",
        "とりあえず返済は後回しにする",
      ],
      answerIndex: 1,
    },
    post: {
      question:
        "クレジットカードのリボ払い（高い金利）と、低金利の奨学金を同時に返済しているとします。家計に余裕ができたとき、返済を優先すべきなのはどれですか？",
      choices: [
        "金利の低い奨学金を先に返す",
        "金利の高いリボ払いを先に多めに返す",
        "どちらも返さず、貯金だけ増やす",
        "新たに別の借金をして返済に充てる",
      ],
      answerIndex: 1,
    },
  },

  // Q9 インフレ① 実質価値
  {
    id: "Q9",
    conceptKey: "inflation_real_value",
    topic: "物価・インフレ",
    pre: {
      question:
        "今、預金口座に10万円あります。今後、物価が毎年上がり続けた場合、10年後の「10万円の価値」はどうなると考えられますか？",
      choices: [
        "今より多くのものが買える",
        "今と同じだけのものが買える",
        "今より少ないものしか買えない可能性が高い",
        "物価と無関係なので、価値は変わらない",
      ],
      answerIndex: 2,
    },
    post: {
      question:
        "物価が上がり続けているとき、同じ金額の現金をそのまま持ち続ける主なリスクはどれですか？",
      choices: [
        "実際に買える量が減る（実質的な価値が下がる）",
        "実際に買える量が増える",
        "買える量は必ず一定に保たれる",
        "通貨のデザインだけが変わる",
      ],
      answerIndex: 0,
    },
  },

  // Q10 インフレ② インフレ下の運用
  {
    id: "Q10",
    conceptKey: "inflation_investing",
    topic: "物価・インフレ",
    pre: {
      question:
        "物価が上がり続けているとき、「長期的にお金の価値を守る」という観点から、次のうち最も適切な考え方はどれですか？",
      choices: [
        "すべてをタンス預金として現金で持っておく",
        "将来使う予定のお金も含め、全額を値動きの大きい投機商品に回す",
        "生活費の数ヶ月分は現金で確保しつつ、余裕資金は長期目線で分散投資を検討する",
        "物価は気にせず、そのときの気分で使い切る",
      ],
      answerIndex: 2,
    },
    post: {
      question:
        "今後もインフレが続くと予想されるとき、長期の貯蓄についての考え方として最も適切なのはどれですか？",
      choices: [
        "すべてを普通預金のまま放置する",
        "生活費まで含めて、すべてを短期で値動きの大きい銘柄に集中投資する",
        "生活費の備えを確保した上で、余裕資金を複数の資産に分散して長期運用する",
        "将来のことは考えず、その都度足りない分は借金でまかなう",
      ],
      answerIndex: 2,
    },
  },

  // Q11 投資① 分散投資
  {
    id: "Q11",
    conceptKey: "diversification_basic",
    topic: "貯蓄・投資",
    pre: {
      question:
        "次のうち、「分散投資」の考え方に最も近いのはどれですか？",
      choices: [
        "1つの銘柄に全額を投資する",
        "給料をすべて現金のまま持っておく",
        "複数の銘柄や資産に分けて投資する",
        "金利の高い借金を増やす",
      ],
      answerIndex: 2,
    },
    post: {
      question:
        "分散投資をする主な目的として、最も適切なのはどれですか？",
      choices: [
        "必ず高い利回りを保証するため",
        "1つの投資が大きく下がったときのダメージを抑えるため",
        "税金を一切払わなくてよくするため",
        "ギャンブル性を高めるため",
      ],
      answerIndex: 1,
    },
  },

  // Q12 投資② 長期・積立
  {
    id: "Q12",
    conceptKey: "long_term_investing",
    topic: "貯蓄・投資",
    pre: {
      question:
        "長期的な資産形成を目指す場合の考え方として、最も適切なのはどれですか？",
      choices: [
        "短期の値動きだけを見て、頻繁に売買を繰り返す",
        "ニュースで話題の銘柄にだけ全額を集中投資する",
        "自分に合ったリスクの範囲で、時間をかけてコツコツ積み立て・分散投資を行う",
        "すべて現金で持ち、まったく増やそうとしない",
      ],
      answerIndex: 2,
    },
    post: {
      question:
        "将来のための積立投資を始める人へのアドバイスとして、最も適切なのはどれですか？",
      choices: [
        "短期で2〜3倍を狙える銘柄だけに賭ける",
        "一時的な値下がりだけを見て、すぐにやめてしまう",
        "価格が上下することを前提に、長期・分散・積立で続ける",
        "投資はせず、すべてリボ払いに回す",
      ],
      answerIndex: 2,
    },
  },

  // Q13 防衛資金①
  {
    id: "Q13",
    conceptKey: "emergency_fund",
    topic: "リスク・保険",
    pre: {
      question:
        "失業や病気などに備えるために、一般的に意識した方がよいとされる考え方として最も適切なのはどれですか？",
      choices: [
        "生活費の数ヶ月分程度の現金やすぐ使える資金を確保する",
        "すべてを株式に投資し、現金は持たない",
        "日常の支払いはすべてリボ払いにする",
        "準備は不要で、その都度借入で対応する",
      ],
      answerIndex: 0,
    },
    post: {
      question:
        "将来の予期せぬ出費に備える「生活防衛資金」として、どのような形が望ましいとされていますか？",
      choices: [
        "生活費1ヶ月分程度を、すぐ引き出せる預金などで持っておく",
        "生活費の数ヶ月分を、すぐ引き出せる安全性の高い資産で持っておく",
        "生活費のすべてを株式で保有する",
        "現金は持たず、常にクレジットカードに依存する",
      ],
      answerIndex: 1,
    },
  },

  // Q14 保険①
  {
    id: "Q14",
    conceptKey: "insurance_purpose",
    topic: "リスク・保険",
    pre: {
      question:
        "次のうち、「保険で備える対象」として特に適しているものはどれですか？",
      choices: [
        "毎日飲むコーヒー代",
        "スマホの機種変更代",
        "病気やケガで働けなくなった場合の大きな出費",
        "その日のランチ代",
      ],
      answerIndex: 2,
    },
    post: {
      question:
        "保険に入る目的として、一般的に適切な考え方はどれですか？",
      choices: [
        "少額の出費まで全て保険でカバーするため",
        "自分ではカバーしにくい、大きな損失やまれなリスクに備えるため",
        "どんなことがあっても必ず得をするため",
        "日常の買い物をすべて無料にするため",
      ],
      answerIndex: 1,
    },
  },

  // Q15 詐欺① 投資詐欺
  {
    id: "Q15",
    conceptKey: "investment_fraud_signs",
    topic: "トラブル・詐欺",
    pre: {
      question:
        "次のうち、「投資詐欺」である可能性が最も高い勧誘として疑うべきものはどれですか？",
      choices: [
        "元本保証で年利20%を必ず約束すると言っている",
        "投資にはリスクがあると説明している",
        "手数料やリスクも資料で説明している",
        "少額から長期で積み立てる投資信託を紹介している",
      ],
      answerIndex: 0,
    },
    post: {
      question:
        "SNSで「誰でも絶対に損しない」「元本保証で高利回り」と書かれた投資話を見ました。適切な対応はどれですか？",
      choices: [
        "すぐに大きな金額を振り込む",
        "詳しい契約書がなくても、知人の紹介なら信じる",
        "一度立ち止まり、公式な情報や口コミを調べ、不審なら関わらない",
        "パスワードや個人情報を先に送る",
      ],
      answerIndex: 2,
    },
  },

  // Q16 詐欺② フィッシング
  {
    id: "Q16",
    conceptKey: "phishing_awareness",
    topic: "トラブル・詐欺",
    pre: {
      question:
        "銀行を名乗るメールで「口座が凍結されました。下のリンクからログイン情報を入力してください」と書かれていました。まず取るべき対応として最も適切なのはどれですか？",
      choices: [
        "メールのリンクをそのままクリックして情報を入力する",
        "メールに返信して、詳しい情報を送ってもらう",
        "正規の公式サイトやアプリを自分で開き、状況を確認する",
        "そのメールを友人にも転送する",
      ],
      answerIndex: 2,
    },
    post: {
      question:
        "金融機関からのSMSを装ったメッセージで、不自然な日本語と不明なURLが記載されていました。適切な行動はどれですか？",
      choices: [
        "URLをすぐに開き、指示通りに個人情報を入力する",
        "メッセージの指示を信じて、暗証番号を返信する",
        "メッセージは無視または削除し、心配な場合は公式連絡先から確認する",
        "不審だが、念のため家族にもURLを共有する",
      ],
      answerIndex: 2,
    },
  },

  // Q17 税・社会保険① 額面と手取り
  {
    id: "Q17",
    conceptKey: "gross_vs_net_income",
    topic: "税・社会保障・信用",
    pre: {
      question:
        "初任給の通知で「支給額（額面）20万円、差引支給額（手取り）16万円」と書かれていました。この差額が生じる主な理由として最も適切なのはどれですか？",
      choices: [
        "会社が勝手に給料を減らしているから",
        "税金や社会保険料が差し引かれているから",
        "物価が上がっているから",
        "ボーナスが含まれていないから",
      ],
      answerIndex: 1,
    },
    post: {
      question:
        "給与明細に「所得税」「健康保険料」「厚生年金保険料」などが記載され、支給額より手取り額が少なくなっていました。これは何を意味していますか？",
      choices: [
        "会社が本人に知らせず罰金を取っている",
        "税金や社会保険料があらかじめ給与から差し引かれている",
        "将来のボーナス分が前倒しで引かれている",
        "銀行の手数料がすべて差し引かれている",
      ],
      answerIndex: 1,
    },
  },

  // Q18 クレジット履歴① 延滞の影響
  {
    id: "Q18",
    conceptKey: "credit_history_impact",
    topic: "税・社会保障・信用",
    pre: {
      question:
        "クレジットカードやローンの支払いを何度も遅延すると、将来どのような影響が出る可能性がありますか？",
      choices: [
        "まったく影響はない",
        "むしろ信用が上がる",
        "信用情報に記録され、カードやローンの審査に通りにくくなることがある",
        "利息が必ず0%になる",
      ],
      answerIndex: 2,
    },
    post: {
      question:
        "スマホの割賦代金やカードの支払いを長期間滞納すると、一般的にどのようなリスクがありますか？",
      choices: [
        "将来のローンやカード契約の審査に影響する可能性がある",
        "返済が遅れた方が割引を受けられる",
        "特に記録は残らない",
        "滞納すると自動的に借金が帳消しになる",
      ],
      answerIndex: 0,
    },
  },

  // Q19 余剰資金① 臨時収入の使い方
  {
    id: "Q19",
    conceptKey: "windfall_use",
    topic: "お金の使い方",
    pre: {
      question:
        "アルバイト代とは別に、臨時収入で3万円を手に入れました。将来のための家計管理という観点から、最も望ましい使い方はどれですか？",
      choices: [
        "すべてその場で欲しいものに使う",
        "一部を楽しみに使い、残りを貯蓄や将来の支出に備えて取っておく",
        "全額を高金利の借金の返済に回す",
        "全額を現金のままタンスに入れておく",
      ],
      answerIndex: 1,
    },
    post: {
      question:
        "日常の生活費とは別に、予想外の収入が入ったときの考え方として最も適切なのはどれですか？",
      choices: [
        "すべて衝動買いに使う",
        "使い道を決めず、何となく引き出しておく",
        "将来の支出や貯蓄の目的も考えつつ、一部を楽しみ、一部を貯蓄・投資に回す",
        "すべてを高リスクの投機商品に投入する",
      ],
      answerIndex: 2,
    },
  },

  // Q20 余剰資金② 借金がある場合
  {
    id: "Q20",
    conceptKey: "windfall_with_debt",
    topic: "お金の使い方",
    pre: {
      question:
        "高い金利のクレジットカードの残高がある状態で、ボーナスで5万円の余裕ができました。一般的に望ましい対応はどれですか？",
      choices: [
        "すべてを新しい買い物に使う",
        "すべてを普通預金に入れて放置する",
        "高金利のクレジット残高の返済に多く回す",
        "さらに別の借金をして株を買う",
      ],
      answerIndex: 2,
    },
    post: {
      question:
        "リボ払い残高がある状態で臨時収入が入ったとき、家計健全化の観点から優先した方がよい行動はどれですか？",
      choices: [
        "リボ残高の返済を増やし、利息負担を減らす",
        "臨時収入だけで新しいローンを組む",
        "すべてを飲食や娯楽に使う",
        "何も返済せず、クレジットの利用枠をさらに増やす",
      ],
      answerIndex: 0,
    },
  },
];

export const PRE_QUESTIONS: FlatExamQuestion[] = EXAM_ITEMS.map((item) => ({
  id: item.id,
  conceptKey: item.conceptKey,
  topic: item.topic,
  question: item.pre.question,
  choices: item.pre.choices,
  answerIndex: item.pre.answerIndex,
}));

export const POST_QUESTIONS: FlatExamQuestion[] = EXAM_ITEMS.map((item) => ({
  id: item.id,
  conceptKey: item.conceptKey,
  topic: item.topic,
  question: item.post.question,
  choices: item.post.choices,
  answerIndex: item.post.answerIndex,
}));

